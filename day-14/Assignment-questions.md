# Assignments on Stored procedure

1. Create a stored procedure named `add_order` that takes in two IN parameters: `customer_id` (integer) and `employee_id` (integer). The stored procedure should insert a new row into the `orders` table with the given `customer_id` and `employee_id`, and should return the `order_id` of the newly inserted row. If the `customer_id` or `employee_id` are not valid (i.e., they do not exist in the `customers` or `employees` table), the stored procedure should raise a custom exception with the SQLSTATE code `22001` and the message `Invalid customer or employee ID`.
2. Create a stored procedure named `update_order_quantity` that takes in three IN parameters: `order_id` (integer), `product_id` (integer), and `new_quantity` (integer). The stored procedure should update the `order_details` table for the given `order_id` and `product_id` to set the `quantity` column to the given `new_quantity`. If the combination of `order_id` and `product_id` does not exist in the `order_details` table, the stored procedure should raise a custom exception with the SQLSTATE code `22002` and the message `Invalid order or product ID`.
3. Create a stored procedure named `delete_customer_orders` that takes in one IN parameter: `customer_id` (integer). The stored procedure should delete all rows from the `orders` and `order_details` tables that correspond to the given `customer_id`. If there are no orders for the given `customer_id`, the stored procedure should raise a custom exception with the SQLSTATE code `22003` and the message `No orders found for customer`.

4. Create a stored procedure named `get_order_summary` that takes in one IN parameter: `order_id` (integer). The stored procedure should retrieve information about the given order from the `orders`, `order_details`, and `products` tables and return a summary of the order as a table with the following columns: `product_name`, `unit_price`, `quantity`, `discount`, `extended_price`. The stored procedure should calculate the `extended_price` as `(unit_price * quantity) - (unit_price * quantity * discount)`. If the given `order_id` does not exist in the `orders` table, the stored procedure should raise a custom exception with the SQLSTATE code `22004` and the message `Invalid order ID`.
5. Create a stored procedure named `get_customer_orders` that takes in two IN parameters: `customer_id` (integer) and `start_date` (date). The stored procedure should retrieve information about all orders made by the given customer since the given start date and return a table with the following columns: `order_id`, `order_date`, `ship_date`, `ship_name`, `ship_address`, `ship_city`, `ship_region`, `ship_postal_code`, `ship_country`. The stored procedure should also calculate the total cost of each order (i.e., the sum of the `extended_price` values for each product in the order) and include it as a column in the result set. If the given `customer_id` does not exist in the `customers` table, the stored procedure should raise a custom exception with the SQLSTATE code `22005` and the message `Invalid customer ID`.
